<%layout('./partials/homeLayout')%>
  <main class="text-center" id="vue-search">
    <div>
      <div>
        <h2>Order Detail</h2>
      </div>
    </div>
    <div class="container-fluid">
        <table class="table table-hover table-striped ">
            <thead>
                <tr>
                    <th scope="col" class="col-3">Draft</th>
                    <th scope="col" class="col-3">Activated</th>
                    <th scope="col" class="col-3">Delivering</th>
                    <th scope="col" class="col-3">Completed</th>
                </tr>
            </thead>
            <tbody>
             <!-- <div v-for="element in orderData"> 
                <div style="text-align:left; margin-left: 30px;" class="row">
                      <p style="margin-right:40px" >Order Id: {{element.Id}}</p>
                      <p style="margin-right:40px">Total Amount : ${{element.Total}}</p>
                      <p style="margin-right:40px">Start Date : {{element.EffectiveDate}}</p>
                </div>-->
              <tr v-for="element in orderData">
                <td colspan="4">
                  <div class="progress" v-if="element.Status==='Cancel'">
                    <div class="progress-bar progress-bar-striped bg-danger"  role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
                    </div>
                  <div class="progress" v-else>
                    <div class="progress-bar progress-striped active"  role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" :style="'width:'+element.Progress+'%'">
                    </div>
                  </div>
                  <div style="text-align:left; margin-left: 30px;margin-top:20px;" class="row">
                    <p style="margin-right:40px" >Order Id: {{element.Id}}</p>
                    <p style="margin-right:40px">Total Amount : ${{element.Total}}</p>
                    <p style="margin-right:40px">Start Date : {{element.EffectiveDate}}</p>
                    <button type="button" class="btn btn-info btn-sm" data-toggle="collapse" data-target="#multiCollapseExample1" aria-expanded="false" aria-controls="multiCollapseExample1" style="margin-left: 400px; margin-bottom: 10px;margin-right:40px;">Order Products</button>
                    <button type="button" class="btn btn-warning btn-sm" style="margin-bottom: 10px;" v-on:click="addOrder(element.Id)">Add to my order</button>
                  </div>
                  <div class="collapse multi-collapse" id="multiCollapseExample1">
                      <table class="table table-hover table-striped ">
                        <thead>
                          <tr>
                            <th scope="col" class="col-2">Id</th>
                            <th scope="col" class="col-4">Name</th>
                            <th scope="col" class="col-2">Unit Price</th>
                            <th scope="col" class="col-2">Quantity</th>
                            <th scope="col" class="col-2">Total Price</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr v-for="product in element.orderProducts">
                            <td>{{product.Product2.Id}}</td>
                            <td>{{product.Product2.Name}}</td>
                            <td>{{product.UnitPrice}}</td>
                            <td>{{product.Quantity}}</td>
                            <td>{{product.TotalPrice}}</td>
                          </tr>
                        </tbody> 
                      </table>
                  </div>
                </td>
              </tr>
            </tbody>
        </table>
    </div>

  
  </main>
  <script src="/javascripts/components/searchControl.js"></script>
